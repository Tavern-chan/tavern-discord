/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'com.asm.tavern.discord.groovy-application-conventions'
}

version = '1.0.0'
description = 'Tavern discord integration'

def mainClass = 'com.asm.tavern.discord.app.App'

dependencies {
    implementation project(':utilities')
    implementation project(':discord')
    implementation project(':domain')
    implementation project(':audio')
    implementation project(':repository')
    implementation project(':drinks')
}

application {
    // Define the main class for the application.
    mainClassName = mainClass

}

jar {
	baseName = 'tavern'

	manifest {
		attributes 'Main-Class': mainClass
	}

}

task fatJar(type: Jar) {
    baseName = 'tavern-prod'

    manifest {
        attributes 'Main-Class': mainClass
    }

    from {
        configurations.runtimeClasspath.findAll { it.name.endsWith('jar') }.collect { zipTree(it) }
    }
    with jar
}

